<div class='flex justify-between'>
    <h1 class='font-semibold mb-2'>Connect with the World: Join the Global Rooms!</h1>
    <div
        class="w-full flex items-center mb-1 ml-2 gap-1 bg-gray-100 dark:bg-zinc-800 border border-gray-300 dark:border-zinc-700 rounded-xl px-2">
        <input (input)='search($event)' type="text"
            class="w-full px-1 lg:px-2 text-sm font-semibold text-neutral-900 dark:text-neutral-300 bg-transparent"
            placeholder="Search for a chat" required />
        <svg class="w-4 h-4 text-neutral-800 dark:text-zinc-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
            fill="none" viewBox="0 0 20 20">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z" />
        </svg>

    </div>
    <div (click)="onCreateChat()" class='cursor-pointer flex justify-center items-center'>
        <span
            class="material-symbols-rounded hover:bg-neutral-200 dark:hover:bg-neutral-800 rounded-full p-1 transition duration-300">
            add_circle
        </span>
    </div>
</div>
<div class="grid grid-cols-4 gap-1 mb-2">

    <div *ngFor='let chat of publicChats' class='relative'>

        <div *ngIf='chat.authorName === currentUsername' (click)='onEdit(chat)' class='absolute top-0 right-0 p-2'>
            <span
                class="material-symbols-rounded cursor-pointer text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 rounded-full transition duration-300">
                edit
            </span>
        </div>

        <a routerLink="{{chat.id}}"
            class='cursor-pointer text-center h-32 bg-neutral-400 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-900 transition duration-300 rounded flex flex-col justify-center items-center'>
            <h2 class='font-semibold'>{{chat.name}}</h2>
            <p>{{chat.description}}</p>
        </a>
    </div>
</div>

<app-invitations></app-invitations>

<h1 class='font-semibold mb-2'>Joined in..</h1>
<div *ngFor='let chat of joinedChats' class='flex flex-col gap-4'>
    <div class='cursor-pointer grid grid-cols-[1fr_auto] gap-4 bg-stone-200 dark:bg-zinc-800/45 px-2 py-4 rounded'>
        <a routerLink="{{chat.id}}" class='grid grid-cols-[auto_1fr] gap-4'>
            <div class='h-12 w-12 bg-stone-400 rounded-full'></div>
            <div>
                <h2 class='font-semibold'>{{chat.name}}</h2>
                <p class='text-sm text-neutral-800 dark:text-neutral-400'>{{chat.description}}</p>
            </div>
        </a>

        <div *ngIf='chat.authorName === currentUsername' (click)='onEdit(chat)' class='p-2 cursor-pointer'>
            <span class="material-symbols-rounded text-neutral-700 dark:text-neutral-400">
                edit
            </span>
        </div>
    </div>
</div>

<app-edit-chat></app-edit-chat>